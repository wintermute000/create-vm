#Generated by Kickstart Configurator
#platform=AMD64 or Intel EM64T

#System language
lang en_US
#System keyboard
keyboard us
#System timezone
timezone XXXXX/XXXXX
#Root password
rootpw --iscrypted XXXXX
#Initial user
user --name XXXXX --iscrypted --password XXXXX 
#Reboot after installation
reboot
#Use text mode install
text
#Install OS instead of upgrade
install
#Use CDROM installation media
cdrom
#System bootloader configuration
bootloader --location=mbr 
#Clear the Master Boot Record
zerombr
#Partition clearing information
clearpart --all --initlabel 
#Disk partitioning information
part /boot --fstype ext4 --size 256
part swap --recommended 
part / --fstype ext4 --size 1 --grow 
#System authorization infomation
auth  --useshadow  --enablemd5 
#Network information
network --bootproto=static --ip=ip_address --netmask=net_mask --gateway=default_gw --nameserver=dns_server --device=eth0 --hostname=server1
#Firewall configuration
firewall --disabled 
#Do not configure the X Window System
skipx
# Selinux State
selinux --permissive

%post

#---- Install our SSH key ----
sudo -u XXXXX mkdir -m0700 /home/XXXXX/.ssh/
usermod -aG wheel XXXXX

sudo -u XXXXX cat <<EOF >/home/XXXXX/.ssh/authorized_keys
ssh-rsa XXXXX 
EOF


### set permissions
chmod 0600 /home/XXXXX/.ssh/authorized_keys
chown XXXXX /home/XXXXX/.ssh/authorized_keys

### fix up selinux context
restorecon -R /home/XXXXX/.ssh/

%end
